{% extends "_layout.html" %}

{% block title %}
  Edit profile |
{% endblock %}

{% block header %}
{% endblock %}

{% block content %}
<div class="container">
  <h1>Edit Profile</h1>
  <div class="my-4">
    <h3>Change Username:</h3>
    <form action="{{url_for('users.update', id = current_user.id )}}" method="POST">
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
      <input type="hidden" name="form_type" value="username"/>
      <div class="form-group">
        <label for="InputUsername">New Username</label>
        <input type="text" name="new_username" class="form-control" id="inputUsername">
      </div>
      <div class="form-group">
        <label for="inputCurrentPassword">Enter Your Current Password</label>
        <input type="password" name="current_password" class="form-control" id="inputCurrentPassword">
      </div>
      <button type="submit" class="btn btn-primary">Update Username</button>
    </form>
  </div>
  <div class="my-4">
    <h3>Change Password:</h3>
    <form action="{{url_for('users.update', id = current_user.id)}}" method="POST">
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
      <input type="hidden" name="form_type" value="password"/>
      <div class="form-group">
        <label for="inputCurrentPassword">Enter Your Current Password</label>
        <input type="password" name="current_password" class="form-control" id="inputCurrentPassword">
      </div>
      <div class="form-group">
        <label for="inputPassword">Enter Your New Password</label>
        <input type="password" name="new_password" class="form-control" id="inputPassword">
      </div>
      <button type="submit" class="btn btn-primary">Update Password</button>
    </form>
  </div>
  <div class="my-4">
    <h3>Change Email:</h3>
    <form action="{{url_for('users.update', id = current_user.id)}}" method="POST">
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
      <input type="hidden" name="form_type" value="email"/>
      <div class="form-group">
        <label for="InputEmail">New Email</label>
        <input type="email" name="new_email" class="form-control" id="inputEmail">
      </div>
      <div class="form-group">
        <label for="inputCurrentPassword">Enter Your Current Password</label>
        <input type="password" name="current_password" class="form-control" id="inputCurrentPassword">
      </div>
      <button type="submit" class="btn btn-primary">Update Email</button>
    </form>
  </div>
</div>
<div class="container my-4">
  <h3>Change Profile Image:</h3>
  <form action="{{url_for('users.upload_profile', id = current_user.id)}}" method="POST" enctype="multipart/form-data">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
    <label for="new_image">Upload Your File</label>
    <br></br>
    <input type="file" accept="image/*" name="profile_image">
    <br></br>
    <button class="btn btn-primary" type="submit">Upload Image</button>
  </form> 
</div>
{% endblock %}